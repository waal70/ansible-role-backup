---
# Backup cron job options.
backup_cron_job_state: present
backup_hour: "23"
backup_minute: "05"
backup_dow: "*"

# User under which backup jobs will run.
backup_user: "{{ ansible_env.SUDO_USER | default(ansible_env.USER, true) | default(ansible_user_id, true) }}"
# Path to where backups configuration will be stored.
backup_path: /home/{{ backup_user }}/backups

# Directories to back up. {{ backup_user }} must have read access to these dirs.
backup_directories:
  - /appdata
  - /portainer
  - /data

# Items to exclude from backups. (Use rsync 'excludes' file syntax.)
backup_exclude_items:
  - .DS_Store
  - cache
  - tmp

# Options to control where the backup is delivered.
# This ensures the backup is stored in a folder unique to this server 
# Andre 2025-09: does not make sense to add date-time, as this may run irregularly (REMOVE: -{{ '%Y%m' | strftime() }}).
backup_identifier: "{{ inventory_hostname | replace('.', '') }}"
backup_rsync_user: user
backup_rsync_user_passfile: /home/{{ backup_user }}/.rsync_pass
backup_rsync_user_password: 'change_this_password'
backup_remote_host: backup.example.com
backup_remote_host_port: 22
backup_remote_connection: "{{ backup_rsync_user }}@{{ backup_remote_host }}"
backup_remote_base_path: "~/backups"

# MySQL database backup options.
backup_mysql: false
backup_mysql_user: dbdump
backup_mysql_password: password
backup_mysql_credential_file: ''
